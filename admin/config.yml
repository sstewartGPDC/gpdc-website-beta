backend:
  name: github
  repo: sstewartGPDC/gpdc-website-beta
  branch: main
  base_url: https://gpdc-cms-auth.sstewart.workers.dev
  auth_endpoint: /auth

# Where uploaded images go
media_folder: "images/uploads"
public_folder: "/images/uploads"

# Site URL for "View Live" links
# Will become beta.gapubdef.org once custom domain is configured
site_url: https://gpdc-website-beta.pages.dev
display_url: https://gpdc-website-beta.pages.dev
logo_url: https://cdn.prod.website-files.com/66c9595206b0d169d1677e69/66e9df4a3e925a89e1be2971_BlackGold%20-%20SYMBOL%20MARK.png

collections:
  # ==================== ARTICLES ====================
  - name: "articles"
    label: "Articles"
    label_singular: "Article"
    folder: "_articles"
    create: true
    slug: "{{slug}}"
    extension: "md"
    description: "Newsroom articles displayed on the site"
    preview_path: "articles/{{slug}}.html"
    summary: "{{title}}  ·  {{category}}  ·  {{date}}  ·  img:{{image}}"
    sortable_fields: ["title", "date", "category"]
    view_filters:
      - label: "Featured"
        field: "featured"
        pattern: true
      - label: "News"
        field: "category"
        pattern: "News"
      - label: "Local Offices"
        field: "category"
        pattern: "Local Offices"
      - label: "Training"
        field: "category"
        pattern: "Training"
      - label: "Events"
        field: "category"
        pattern: "Events"
      - label: "Leadership"
        field: "category"
        pattern: "Leadership"
    view_groups:
      - label: "Category"
        field: "category"
      - label: "Year"
        field: "date"
        pattern: '\d{4}'
    fields:
      - label: "Title"
        name: "title"
        widget: "string"
        hint: "Article headline"

      - label: "Description"
        name: "description"
        widget: "text"
        hint: "Short description for SEO and preview cards"

      - label: "Category"
        name: "category"
        widget: "select"
        options:
          - "News"
          - "Local Offices"
          - "Training"
          - "Leadership"
          - "Events"
          - "Policy"
          - "Community"
        hint: "Article category"

      - label: "Date"
        name: "date"
        widget: "datetime"
        format: "YYYY-MM-DD"
        time_format: false
        hint: "Publication date"

      - label: "Featured"
        name: "featured"
        widget: "boolean"
        default: false
        hint: "Show as featured article on homepage"

      - label: "Image"
        name: "image"
        widget: "image"
        required: false
        hint: "Main article image"

      - label: "Image Alt Text"
        name: "image_alt"
        widget: "string"
        required: false
        hint: "Describe the image for accessibility"

      - label: "Excerpt"
        name: "excerpt"
        widget: "text"
        hint: "Short summary shown on cards and previews"

      - label: "Body"
        name: "body"
        widget: "markdown"
        hint: "Full article content"

  # ==================== EVENTS ====================
  - name: "events"
    label: "Events"
    label_singular: "Event"
    folder: "_events"
    create: true
    slug: "{{slug}}"
    extension: "md"
    description: "Upcoming and past events"
    preview_path: "newsroom.html"
    summary: "{{title}}  ·  {{type}}  ·  {{date}}  ·  {{location}}"
    sortable_fields: ["title", "date", "type"]
    view_filters:
      - label: "In Person"
        field: "type"
        pattern: "in-person"
      - label: "Virtual"
        field: "type"
        pattern: "virtual"
      - label: "Hybrid"
        field: "type"
        pattern: "hybrid"
      - label: "On Demand"
        field: "type"
        pattern: "on-demand"
    view_groups:
      - label: "Type"
        field: "type"
      - label: "Year"
        field: "date"
        pattern: '\d{4}'
    fields:
      - label: "Title"
        name: "title"
        widget: "string"
        hint: "Event name"

      - label: "Start Date"
        name: "date"
        widget: "datetime"
        format: "YYYY-MM-DD"
        time_format: false
        hint: "Event start date"

      - label: "End Date"
        name: "end_date"
        widget: "datetime"
        format: "YYYY-MM-DD"
        time_format: false
        required: false
        hint: "Event end date (leave blank for single-day events)"

      - label: "Start Time"
        name: "time"
        widget: "string"
        required: false
        hint: "e.g. 9:00 AM"

      - label: "End Time"
        name: "end_time"
        widget: "string"
        required: false
        hint: "e.g. 5:00 PM"

      - label: "Location"
        name: "location"
        widget: "string"
        hint: "e.g. Atlanta, GA"

      - label: "Type"
        name: "type"
        widget: "select"
        options:
          - label: "In Person"
            value: "in-person"
          - label: "Virtual"
            value: "virtual"
          - label: "Hybrid"
            value: "hybrid"
          - label: "On Demand"
            value: "on-demand"

      - label: "Description"
        name: "description"
        widget: "text"
        hint: "Short event description"

      - label: "Image"
        name: "image"
        widget: "image"
        required: false
        hint: "Event image"

      - label: "Registration URL"
        name: "register_url"
        widget: "string"
        required: false
        hint: "Link to registration page"

      - label: "Details"
        name: "body"
        widget: "markdown"
        required: false
        hint: "Full event details (optional)"

  # ==================== JOB POSTINGS ====================
  - name: "positions"
    label: "Job Postings"
    label_singular: "Job Posting"
    folder: "_positions"
    create: true
    slug: "{{slug}}"
    extension: "md"
    description: "Job openings and career opportunities"
    preview_path: "positions.html"
    summary: "{{title}}  ·  {{type}}  ·  {{division}}  ·  {{location}}  ·  {{expired | ternary('EXPIRED','ACTIVE')}}"
    sortable_fields: ["title", "date", "type", "division"]
    view_filters:
      - label: "Attorney"
        field: "type"
        pattern: "attorney"
      - label: "Non-Attorney"
        field: "type"
        pattern: "non-attorney"
      - label: "Contractor"
        field: "type"
        pattern: "contractor"
      - label: "Internship"
        field: "type"
        pattern: "internship"
      - label: "New Postings"
        field: "is_new"
        pattern: true
      - label: "Active"
        field: "expired"
        pattern: false
      - label: "Expired"
        field: "expired"
        pattern: true
    view_groups:
      - label: "Type"
        field: "type"
      - label: "Division"
        field: "division"
      - label: "Status"
        field: "expired"
    fields:
      - label: "Job Title"
        name: "title"
        widget: "string"
        hint: "e.g. Assistant Public Defender"

      - label: "Posted Date"
        name: "date"
        widget: "datetime"
        format: "YYYY-MM-DD"
        time_format: false
        hint: "Date the position was posted"

      - label: "Expiration Date"
        name: "expires"
        widget: "datetime"
        format: "YYYY-MM-DD"
        time_format: false
        required: false
        hint: "Position will automatically show as expired after this date (leave blank for no expiration)"

      - label: "Expired"
        name: "expired"
        widget: "hidden"
        default: false

      - label: "Location"
        name: "location"
        widget: "string"
        hint: "e.g. Atlanta Circuit - Fulton County"

      - label: "Type"
        name: "type"
        widget: "select"
        options:
          - label: "Attorney"
            value: "attorney"
          - label: "Non-Attorney"
            value: "non-attorney"
          - label: "Contractor"
            value: "contractor"
          - label: "Internship"
            value: "internship"

      - label: "Division"
        name: "division"
        widget: "select"
        options:
          - label: "Local Offices"
            value: "local"
          - label: "Youth Division"
            value: "youth"
          - label: "Social Services"
            value: "social-services"
          - label: "Administration"
            value: "administration"
          - label: "Appeals"
            value: "appeals"
          - label: "Capital Defense"
            value: "capital"
          - label: "Training"
            value: "training"
          - label: "Mental Health"
            value: "mental-health"
          - label: "Conflict"
            value: "conflict"

      - label: "County"
        name: "county"
        widget: "string"
        hint: "e.g. fulton, cobb, statewide"

      - label: "New Position"
        name: "is_new"
        widget: "boolean"
        default: true
        hint: "Show 'New' badge on listing"

      - label: "Short Description"
        name: "description"
        widget: "text"
        hint: "Brief job description for the card"

      - label: "Apply URL"
        name: "apply_url"
        widget: "string"
        required: false
        hint: "Link to application page"

      - label: "Full Details"
        name: "body"
        widget: "markdown"
        required: false
        hint: "Full job description, requirements, benefits, etc."

  # ==================== ANNOUNCEMENT BANNER ====================
  - name: "settings"
    label: "Site Settings"
    description: "Global site configuration"
    files:
      - name: "announcement"
        label: "Announcement Banner"
        file: "_data/announcement.json"
        fields:
          - label: "Enabled"
            name: "enabled"
            widget: "boolean"
            default: true
            hint: "Show/hide the announcement banner"

          - label: "ID"
            name: "id"
            widget: "string"
            hint: "Unique ID (changing this resets dismissed state for all users)"

          - label: "Icon"
            name: "icon"
            widget: "select"
            options:
              - label: "Calendar"
                value: "calendar"
              - label: "Megaphone"
                value: "megaphone"
              - label: "Alert"
                value: "alert"
              - label: "Info"
                value: "info"

          - label: "Text"
            name: "text"
            widget: "string"
            hint: "Banner message text"

          - label: "Link Text"
            name: "linkText"
            widget: "string"
            required: false
            hint: "e.g. Learn More, Register Now"

          - label: "Link URL"
            name: "linkUrl"
            widget: "string"
            required: false
            hint: "URL the link points to"

      # ==================== HERO IMAGES ====================
      - name: "heroes"
        label: "Hero Images"
        file: "_data/heroes.json"
        description: "Background images and text for page hero sections"
        fields:
          - label: "Home"
            name: "home"
            widget: "object"
            fields:
              - { label: "Image", name: "image", widget: "image", hint: "Hero background image" }
              - { label: "Position", name: "position", widget: "string", default: "center center", hint: "CSS object-position (e.g. center top, center center)" }

          - label: "About Us"
            name: "about"
            widget: "object"
            fields:
              - { label: "Image", name: "image", widget: "image" }
              - { label: "Position", name: "position", widget: "string", default: "center center" }
              - { label: "Label", name: "label", widget: "string", required: false }
              - { label: "Title", name: "title", widget: "string", required: false }
              - { label: "Subtitle", name: "subtitle", widget: "string", required: false }

          - label: "Our Team"
            name: "team"
            widget: "object"
            fields:
              - { label: "Image", name: "image", widget: "image" }
              - { label: "Position", name: "position", widget: "string", default: "center center" }
              - { label: "Label", name: "label", widget: "string", required: false }
              - { label: "Title", name: "title", widget: "string", required: false }
              - { label: "Subtitle", name: "subtitle", widget: "string", required: false }

          - label: "Divisions"
            name: "divisions"
            widget: "object"
            fields:
              - { label: "Image", name: "image", widget: "image" }
              - { label: "Position", name: "position", widget: "string", default: "center center" }
              - { label: "Label", name: "label", widget: "string", required: false }
              - { label: "Title", name: "title", widget: "string", required: false }
              - { label: "Subtitle", name: "subtitle", widget: "string", required: false }

          - label: "Foundation"
            name: "foundation"
            widget: "object"
            fields:
              - { label: "Image", name: "image", widget: "image" }
              - { label: "Position", name: "position", widget: "string", default: "center center" }
              - { label: "Label", name: "label", widget: "string", required: false }
              - { label: "Title", name: "title", widget: "string", required: false }
              - { label: "Subtitle", name: "subtitle", widget: "string", required: false }

          - label: "Clients & Families"
            name: "clients"
            widget: "object"
            fields:
              - { label: "Image", name: "image", widget: "image" }
              - { label: "Position", name: "position", widget: "string", default: "center center" }
              - { label: "Label", name: "label", widget: "string", required: false }
              - { label: "Title", name: "title", widget: "string", required: false }
              - { label: "Subtitle", name: "subtitle", widget: "string", required: false }

          - label: "Find My Public Defender"
            name: "find-defender"
            widget: "object"
            fields:
              - { label: "Image", name: "image", widget: "image" }
              - { label: "Position", name: "position", widget: "string", default: "center center" }
              - { label: "Label", name: "label", widget: "string", required: false }
              - { label: "Title", name: "title", widget: "string", required: false }
              - { label: "Subtitle", name: "subtitle", widget: "string", required: false }

          - label: "Apply for Representation"
            name: "apply"
            widget: "object"
            fields:
              - { label: "Image", name: "image", widget: "image" }
              - { label: "Position", name: "position", widget: "string", default: "center center" }
              - { label: "Label", name: "label", widget: "string", required: false }
              - { label: "Title", name: "title", widget: "string", required: false }
              - { label: "Subtitle", name: "subtitle", widget: "string", required: false }

          - label: "The Legal Process"
            name: "legal-process"
            widget: "object"
            fields:
              - { label: "Image", name: "image", widget: "image" }
              - { label: "Position", name: "position", widget: "string", default: "center center" }
              - { label: "Label", name: "label", widget: "string", required: false }
              - { label: "Title", name: "title", widget: "string", required: false }
              - { label: "Subtitle", name: "subtitle", widget: "string", required: false }

          - label: "FAQs"
            name: "faq"
            widget: "object"
            fields:
              - { label: "Image", name: "image", widget: "image" }
              - { label: "Position", name: "position", widget: "string", default: "center center" }
              - { label: "Label", name: "label", widget: "string", required: false }
              - { label: "Title", name: "title", widget: "string", required: false }
              - { label: "Subtitle", name: "subtitle", widget: "string", required: false }

          - label: "Careers"
            name: "careers"
            widget: "object"
            fields:
              - { label: "Image", name: "image", widget: "image" }
              - { label: "Position", name: "position", widget: "string", default: "center center" }
              - { label: "Label", name: "label", widget: "string", required: false }
              - { label: "Title", name: "title", widget: "string", required: false }
              - { label: "Subtitle", name: "subtitle", widget: "string", required: false }

          - label: "Available Positions"
            name: "positions"
            widget: "object"
            fields:
              - { label: "Image", name: "image", widget: "image" }
              - { label: "Position", name: "position", widget: "string", default: "center center" }
              - { label: "Label", name: "label", widget: "string", required: false }
              - { label: "Title", name: "title", widget: "string", required: false }
              - { label: "Subtitle", name: "subtitle", widget: "string", required: false }

          - label: "Newsroom"
            name: "newsroom"
            widget: "object"
            fields:
              - { label: "Image", name: "image", widget: "image" }
              - { label: "Position", name: "position", widget: "string", default: "center center" }
              - { label: "Label", name: "label", widget: "string", required: false }
              - { label: "Title", name: "title", widget: "string", required: false }
              - { label: "Subtitle", name: "subtitle", widget: "string", required: false }

          - label: "Contact Us"
            name: "contact"
            widget: "object"
            fields:
              - { label: "Image", name: "image", widget: "image" }
              - { label: "Position", name: "position", widget: "string", default: "center center" }
              - { label: "Label", name: "label", widget: "string", required: false }
              - { label: "Title", name: "title", widget: "string", required: false }
              - { label: "Subtitle", name: "subtitle", widget: "string", required: false }

          - label: "Division Default"
            name: "division-default"
            widget: "object"
            fields:
              - { label: "Image", name: "image", widget: "image", hint: "Fallback hero for division pages" }
              - { label: "Position", name: "position", widget: "string", default: "center center" }

          - label: "Circuit Default"
            name: "circuit-default"
            widget: "object"
            fields:
              - { label: "Image", name: "image", widget: "image", hint: "Fallback hero for local office pages" }
              - { label: "Position", name: "position", widget: "string", default: "center center" }

          - label: "Article Default"
            name: "article-default"
            widget: "object"
            fields:
              - { label: "Image", name: "image", widget: "image", hint: "Fallback hero for article pages" }
              - { label: "Position", name: "position", widget: "string", default: "center center" }

      # ==================== OUR TEAM ====================
      - name: "leadership"
        label: "Our Team"
        file: "_data/leadership.json"
        description: "Directors and managers photos displayed on the Our Team page"
        fields:
          - label: "Team Members"
            name: "members"
            widget: "list"
            label_singular: "Team Member"
            fields:
              - { label: "ID", name: "id", widget: "string", hint: "Short unique ID (e.g. oalli, dberry)" }
              - { label: "Name", name: "name", widget: "string" }
              - { label: "Title", name: "title", widget: "string" }
              - { label: "Role", name: "role", widget: "select", options: ["executive", "director"], default: "director", hint: "Executive = top leadership, Director = division directors & managers" }
              - { label: "Photo", name: "photo", widget: "image" }

      # ==================== DIVISION IMAGES (DIVISIONS & SERVICES) ====================
      - name: "divisions_images"
        label: "Division Images"
        file: "_data/divisions.json"
        description: "Header images for the Divisions & Services page. Director photos are managed in 'Our Team'."
        fields:
          - label: "Divisions"
            name: "divisions"
            widget: "list"
            label_singular: "Division"
            fields:
              - { label: "Slug", name: "slug", widget: "string", hint: "URL slug (e.g. administration, appellate-defense)" }
              - { label: "Header Image", name: "header_image", widget: "image", hint: "Background image on the division card" }
