<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="noindex" />
  <title>GPDC Admin</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Ubuntu:wght@400;500;700&display=swap" rel="stylesheet">

  <style>
    /* ============================================================
       GPDC Admin Theme — Sveltia CMS Brand Overrides
       Uses html:root + !important to beat Sveltia's :root, :host
       declarations that load after ours in the cascade.
       ============================================================ */

    /* ——— Core Hue Override ———
       Sveltia derives ALL accent colors from --sui-base-hue.
       #B85C38 ≈ hsl(18, 53%, 47%). Setting hue to 18 shifts
       the entire UI to our warm terracotta brand color. */
    html:root {
      --sui-base-hue: 18 !important;
      --sui-font-family-default: 'Manrope', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif !important;
    }

    /* ============================================================
       Collection List Card — Enhanced Badge System
       ============================================================ */

    /* ——— Base Badge Styles ——— */
    .gpdc-entry {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      width: 100%;
      flex-wrap: wrap;
    }

    .gpdc-title {
      font-weight: 600;
      color: #1a1a1a;
      font-size: 14px;
      line-height: 1.4;
      flex: 1 1 250px;
    }

    .gpdc-badges {
      display: flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
      flex-shrink: 0;
    }

    .gpdc-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      font-size: 11px;
      font-weight: 600;
      padding: 3px 9px;
      border-radius: 5px;
      white-space: nowrap;
      letter-spacing: 0.01em;
      line-height: 1.4;
    }

    .gpdc-date {
      background: #f0ede9;
      color: #4a4a4a;
      font-variant-numeric: tabular-nums;
    }

    .gpdc-date svg {
      width: 12px;
      height: 12px;
      opacity: 0.55;
      flex-shrink: 0;
    }

    /* ——— Category Badges — Color coded by article category ——— */
    .gpdc-cat {
      text-transform: uppercase;
      letter-spacing: 0.06em;
      font-size: 10px;
      font-weight: 700;
    }
    .gpdc-cat[data-v="News"]           { background: rgba(37,99,235,0.10);   color: #2563eb; }
    .gpdc-cat[data-v="Training"]       { background: rgba(168,85,247,0.10);  color: #9333ea; }
    .gpdc-cat[data-v="Events"]         { background: rgba(245,158,11,0.10);  color: #d97706; }
    .gpdc-cat[data-v="Leadership"]     { background: rgba(184,92,56,0.10);   color: #B85C38; }
    .gpdc-cat[data-v="Local Offices"]  { background: rgba(34,197,94,0.10);   color: #16a34a; }
    .gpdc-cat[data-v="Policy"]         { background: rgba(100,116,139,0.12); color: #475569; }
    .gpdc-cat[data-v="Community"]      { background: rgba(236,72,153,0.10);  color: #db2777; }

    /* ——— Location Badge ——— */
    .gpdc-loc {
      background: #f0ede9;
      color: #6b6b6b;
      font-size: 10.5px;
    }

    .gpdc-loc svg {
      width: 11px;
      height: 11px;
      opacity: 0.5;
      flex-shrink: 0;
    }

    /* ——— Type Badges — Color coded ——— */
    .gpdc-type { text-transform: uppercase; letter-spacing: 0.06em; font-size: 10px; font-weight: 700; }
    .gpdc-type[data-v="in-person"]    { background: rgba(34,197,94,0.12);  color: #16a34a; }
    .gpdc-type[data-v="virtual"]      { background: rgba(59,130,246,0.12); color: #2563eb; }
    .gpdc-type[data-v="hybrid"]       { background: rgba(168,85,247,0.12); color: #9333ea; }
    .gpdc-type[data-v="on-demand"]    { background: rgba(245,158,11,0.12); color: #d97706; }
    .gpdc-type[data-v="attorney"]     { background: rgba(37,99,235,0.12);  color: #2563eb; }
    .gpdc-type[data-v="non-attorney"] { background: rgba(34,197,94,0.12);  color: #16a34a; }
    .gpdc-type[data-v="contractor"]   { background: rgba(245,158,11,0.12); color: #d97706; }
    .gpdc-type[data-v="internship"]   { background: rgba(168,85,247,0.12); color: #9333ea; }

    /* ——— Division Badge ——— */
    .gpdc-division {
      background: rgba(184, 92, 56, 0.08);
      color: #B85C38;
      text-transform: uppercase;
      letter-spacing: 0.04em;
      font-size: 10px;
      font-weight: 700;
    }

    /* ——— Status Badges (Job Postings) ——— */
    .gpdc-status {
      text-transform: uppercase;
      letter-spacing: 0.06em;
      font-size: 10px;
      font-weight: 700;
      gap: 5px;
    }
    .gpdc-status-active {
      background: rgba(34,197,94,0.12);
      color: #16a34a;
    }
    .gpdc-status-expired {
      background: rgba(239,68,68,0.10);
      color: #dc2626;
    }
    .gpdc-status-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      display: inline-block;
      flex-shrink: 0;
    }
    .gpdc-status-active .gpdc-status-dot { background: #16a34a; }
    .gpdc-status-expired .gpdc-status-dot { background: #dc2626; }

    /* ——— Image thumbnail ——— */
    .gpdc-thumb {
      width: 56px;
      height: 56px;
      border-radius: 6px;
      object-fit: cover;
      flex-shrink: 0;
      background: #f0ede9;
    }

    .gpdc-entry-with-img {
      display: flex;
      align-items: center;
      gap: 12px;
      width: 100%;
    }

    .gpdc-entry-with-img .gpdc-entry {
      flex: 1;
      min-width: 0;
    }

    /* ============================================================
       Event Cards — Calendar-style Layout
       ============================================================ */

    .gpdc-event-card {
      display: flex;
      align-items: flex-start;
      gap: 14px;
      width: 100%;
    }

    .gpdc-cal-block {
      width: 52px;
      min-width: 52px;
      border-radius: 8px;
      overflow: hidden;
      background: #fff;
      border: 1.5px solid #e5e2de;
      text-align: center;
      flex-shrink: 0;
    }

    .gpdc-cal-month {
      background: #B85C38;
      color: #fff;
      font-size: 9px;
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      padding: 3px 0;
      line-height: 1;
    }

    .gpdc-cal-day {
      font-size: 22px;
      font-weight: 800;
      color: #1a1a1a;
      padding: 4px 0 5px;
      line-height: 1;
      font-variant-numeric: tabular-nums;
    }

    .gpdc-event-info {
      flex: 1;
      min-width: 0;
    }

    .gpdc-event-title {
      font-weight: 600;
      color: #1a1a1a;
      font-size: 14px;
      line-height: 1.4;
      margin-bottom: 6px;
    }

    .gpdc-event-meta {
      display: flex;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
    }

    /* ============================================================
       Council & Circuit Badges
       ============================================================ */
    .gpdc-role-chairman {
      background: rgba(184, 92, 56, 0.12);
      color: #B85C38;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      font-size: 10px;
      font-weight: 700;
    }

    .gpdc-role-member {
      background: #f0ede9;
      color: #6b6b6b;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      font-size: 10px;
      font-weight: 700;
    }

    .gpdc-role-exec {
      background: rgba(37,99,235,0.10);
      color: #2563eb;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      font-size: 10px;
      font-weight: 700;
    }

    .gpdc-role-director {
      background: rgba(34,197,94,0.10);
      color: #16a34a;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      font-size: 10px;
      font-weight: 700;
    }

    .gpdc-defender {
      background: rgba(184, 92, 56, 0.08);
      color: #B85C38;
      font-size: 10.5px;
      font-weight: 600;
    }

    .gpdc-defender svg {
      width: 12px;
      height: 12px;
      opacity: 0.6;
      flex-shrink: 0;
    }

    .gpdc-phone {
      background: #f0ede9;
      color: #6b6b6b;
      font-size: 10.5px;
      font-variant-numeric: tabular-nums;
    }

    /* ============================================================
       List Card Hover Accent
       ============================================================ */
    [class*="ListCard-card"] {
      border-left: 3px solid transparent !important;
      transition: border-color 0.2s ease, box-shadow 0.2s ease !important;
    }
    [class*="ListCard-card"]:hover {
      border-left-color: #B85C38 !important;
      box-shadow: 0 2px 12px rgba(184,92,56,0.08) !important;
    }

    /* ============================================================
       Floating Crop Tool Quick-Link
       ============================================================ */
    .gpdc-crop-fab {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 99999;
      display: flex;
      align-items: center;
      gap: 7px;
      padding: 10px 16px;
      background: #B85C38;
      color: #fff;
      border: none;
      border-radius: 12px;
      font-family: 'Manrope', sans-serif;
      font-size: 12.5px;
      font-weight: 700;
      letter-spacing: 0.01em;
      cursor: pointer;
      box-shadow: 0 4px 16px rgba(184, 92, 56, 0.35);
      transition: all 0.2s ease;
      text-decoration: none;
    }
    .gpdc-crop-fab:hover {
      background: #a04e2f;
      transform: translateY(-2px);
      box-shadow: 0 6px 24px rgba(184, 92, 56, 0.45);
    }
    .gpdc-crop-fab svg {
      width: 16px;
      height: 16px;
      flex-shrink: 0;
    }

  </style>
</head>
<body>
  <script>
    // Fetch token from Cloudflare Worker and auto-authenticate
    (async () => {
      if (!localStorage.getItem('sveltia-cms.user')) {
        try {
          const res = await fetch('https://gpdc-cms-auth.sstewart.workers.dev/token', {
            headers: { 'X-CMS-Key': 'gpdc-admin-2026-cf' }
          });
          const data = await res.json();
          if (data.token) {
            localStorage.setItem('sveltia-cms.user', JSON.stringify({
              backendName: 'github',
              token: data.token
            }));
          }
        } catch (e) {
          console.error('Auto-auth failed:', e);
        }
      }
      // Load Sveltia CMS, then load card enhancer after CMS initializes
      const script = document.createElement('script');
      script.src = 'https://unpkg.com/@sveltia/cms/dist/sveltia-cms.js';
      script.onload = function() {
        // Sveltia has loaded and executed. Load card enhancer in the new context.
        var enhancer = document.createElement('script');
        enhancer.src = 'card-enhancer.js?v=2';
        document.head.appendChild(enhancer);

        // Inject floating Crop Tool quick-link
        var fab = document.createElement('a');
        fab.href = '../tools/image-crop.html';
        fab.target = '_blank';
        fab.rel = 'noopener';
        fab.className = 'gpdc-crop-fab';
        fab.title = 'Open Image Crop Tool';
        fab.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2v14a2 2 0 002 2h14"/><path d="M18 22V8a2 2 0 00-2-2H2"/></svg><span>Crop Tool</span>';
        document.body.appendChild(fab);
      };
      document.body.appendChild(script);
    })();
  </script>
</body>
</html>
