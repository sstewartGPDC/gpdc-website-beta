<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Meet the leadership team and staff of the Georgia Public Defender Council, dedicated to strengthening public defense services across the state.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Team | Georgia Public Defender Council</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css?v=16">
    <style>
        /* Enhanced Team Page Styles */
        .team-hero {
            text-align: center;
            padding: 2rem 1.5rem 3rem;
            background: var(--bg-white);
        }

        .team-hero .section-title {
            margin-bottom: 1rem;
        }

        .team-hero .section-subtitle {
            max-width: 600px;
            margin: 0 auto;
        }

        /* Featured Executive */
        .featured-executive {
            padding: 3rem 1.5rem;
            background: linear-gradient(135deg, var(--bg-light) 0%, var(--bg-white) 100%);
        }

        .featured-card {
            max-width: 900px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 3rem;
            align-items: center;
            background: var(--bg-white);
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: var(--shadow-lg);
        }

        .featured-image {
            width: 100%;
            aspect-ratio: 1;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--shadow-md);
        }

        .featured-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .featured-content .label {
            margin-bottom: 0.5rem;
        }

        .featured-content h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: var(--text-dark);
        }

        .featured-content .featured-title {
            font-size: 1.125rem;
            color: var(--primary);
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .featured-content .featured-bio {
            font-size: 1rem;
            color: var(--text-medium);
            line-height: 1.7;
            margin-bottom: 1.5rem;
        }

        .featured-credentials {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .credential-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.375rem;
            padding: 0.375rem 0.75rem;
            background: var(--primary-subtle);
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--primary);
        }

        .credential-badge svg {
            width: 14px;
            height: 14px;
        }

        /* Team Section Updates */
        .team-section-new {
            padding: 3rem 1.5rem 4rem;
        }

        .team-section-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .team-section-header .label {
            margin-bottom: 0.5rem;
        }

        .team-section-header h2 {
            font-size: 1.75rem;
            color: var(--text-dark);
        }

        .section-explainer {
            max-width: 700px;
            margin: 0.75rem auto 0;
            font-size: 0.9375rem;
            color: var(--text-medium);
            line-height: 1.6;
        }

        /* New Team Grid */
        .team-grid-new {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 1.5rem;
            max-width: 1100px;
            margin: 0 auto;
        }

        .team-card-new {
            background: var(--bg-white);
            border-radius: 16px;
            overflow: hidden;
            transition: all 0.4s var(--ease-out);
            box-shadow: var(--shadow-sm);
            position: relative;
        }

        .team-section-alt .team-card-new {
            background: var(--bg-white);
        }

        .team-card-new:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
        }

        .team-card-new .team-image {
            height: 260px;
            position: relative;
            overflow: hidden;
        }

        .team-card-new .team-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: top center;
            transition: transform 0.6s var(--ease-out);
        }

        .team-card-new:hover .team-image img {
            transform: scale(1.08);
        }

        .team-card-new .team-image::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100px;
            background: linear-gradient(to top, rgba(0,0,0,0.5), transparent);
            opacity: 0;
            transition: opacity 0.4s var(--ease-out);
        }

        .team-card-new:hover .team-image::after {
            opacity: 1;
        }

        .team-card-new .team-info {
            padding: 1.25rem;
            text-align: center;
        }

        .team-card-new .team-info h3 {
            font-size: 1.0625rem;
            margin-bottom: 0.375rem;
            color: var(--text-dark);
        }

        .team-card-new .team-title {
            font-size: 0.8125rem;
            color: var(--primary);
            font-weight: 500;
            line-height: 1.4;
        }

        /* Circuit CTA */
        .circuit-cta {
            max-width: 1100px;
            margin: 0 auto;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 20px;
            padding: 3rem;
            text-align: center;
            color: white;
        }

        .circuit-cta h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: white;
        }

        .circuit-cta p {
            opacity: 0.9;
            margin-bottom: 1.5rem;
            font-size: 1rem;
        }

        .circuit-cta .btn {
            background: white;
            color: var(--primary);
        }

        .circuit-cta .btn:hover {
            background: var(--bg-light);
            transform: translateY(-2px);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .featured-card {
                grid-template-columns: 1fr;
                text-align: center;
                padding: 1.5rem;
                gap: 1.5rem;
            }

            .featured-image {
                max-width: 250px;
                margin: 0 auto;
            }

            .featured-content h2 {
                font-size: 1.5rem;
            }

            .featured-credentials {
                justify-content: center;
            }

            .team-grid-new {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }

            .team-card-new .team-image {
                height: 200px;
            }

            .circuit-cta {
                padding: 2rem 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .team-grid-new {
                grid-template-columns: 1fr;
                max-width: 320px;
                margin: 0 auto;
            }
        }

        /* Contact Icons for Team Cards */
        .team-contact-icons {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 0.75rem;
            padding-top: 0.75rem;
            border-top: 1px solid var(--border-light);
        }

        .team-contact-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: 1px solid var(--border-light);
            background: var(--bg-light);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .team-contact-btn:hover {
            background: var(--primary);
            border-color: var(--primary);
        }

        .team-contact-btn svg {
            width: 16px;
            height: 16px;
            color: var(--text-medium);
            transition: color 0.3s ease;
        }

        .team-contact-btn:hover svg {
            color: white;
        }

        /* Contact Modal */
        .contact-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .contact-modal-overlay.visible {
            opacity: 1;
            visibility: visible;
        }

        .contact-modal {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            max-width: 480px;
            width: 100%;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
            transform: scale(0.9) translateY(20px);
            transition: transform 0.3s ease;
        }

        .contact-modal-overlay.visible .contact-modal {
            transform: scale(1) translateY(0);
        }

        .contact-modal-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .contact-modal-avatar {
            width: 56px;
            height: 56px;
            border-radius: 12px;
            object-fit: cover;
        }

        .contact-modal-info h3 {
            font-size: 1.125rem;
            color: var(--text-dark);
            margin-bottom: 0.25rem;
        }

        .contact-modal-info p {
            font-size: 0.875rem;
            color: var(--primary);
            font-weight: 500;
        }

        .contact-modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 32px;
            height: 32px;
            border: none;
            background: var(--bg-light);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s ease;
        }

        .contact-modal-close:hover {
            background: var(--border-light);
        }

        .contact-modal-close svg {
            width: 18px;
            height: 18px;
            color: var(--text-medium);
        }

        .contact-modal form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .contact-modal label {
            font-size: 0.8125rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 0.25rem;
            display: block;
        }

        .contact-modal input,
        .contact-modal textarea {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid var(--border-light);
            border-radius: 8px;
            font-family: 'Manrope', sans-serif;
            font-size: 0.9375rem;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }

        .contact-modal input:focus,
        .contact-modal textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(199, 94, 0, 0.1);
        }

        .contact-modal textarea {
            min-height: 120px;
            resize: vertical;
        }

        .contact-modal .btn {
            margin-top: 0.5rem;
        }

        /* Callback Checkbox */
        .callback-checkbox-wrapper {
            margin: 1rem 0 0.5rem;
        }

        .callback-checkbox-label {
            display: inline-flex;
            align-items: center;
            gap: 0.625rem;
            cursor: pointer;
            font-size: 0.875rem;
            color: var(--text-medium);
            user-select: none;
        }

        .callback-checkbox-label input[type="checkbox"] {
            position: absolute;
            opacity: 0;
            width: 0;
            height: 0;
        }

        .checkbox-custom {
            width: 20px;
            height: 20px;
            min-width: 20px;
            border: 2px solid var(--border-light);
            border-radius: 4px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            background: white;
        }

        .callback-checkbox-label input[type="checkbox"]:checked + .checkbox-custom {
            background: var(--primary);
            border-color: var(--primary);
        }

        .callback-checkbox-label input[type="checkbox"]:checked + .checkbox-custom::after {
            content: '';
            width: 5px;
            height: 10px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
            margin-bottom: 3px;
        }

        .callback-checkbox-label:hover .checkbox-custom {
            border-color: var(--primary);
        }

        /* Phone Number Tooltip */
        .phone-tooltip {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 1.5rem 2rem;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            z-index: 10000;
            text-align: center;
            display: none;
        }

        .phone-tooltip.visible {
            display: block;
        }

        .phone-tooltip-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 9999;
            display: none;
        }

        .phone-tooltip-overlay.visible {
            display: block;
        }

        .phone-tooltip-label {
            font-size: 0.875rem;
            color: var(--text-medium);
            margin-bottom: 0.5rem;
        }

        .phone-tooltip-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            text-decoration: none;
            display: block;
            margin-bottom: 1rem;
        }

        .phone-tooltip-number:hover {
            text-decoration: underline;
        }

        .phone-tooltip-close {
            font-size: 0.8125rem;
            color: var(--text-light);
            cursor: pointer;
            background: none;
            border: none;
            padding: 0.5rem 1rem;
        }

        .phone-tooltip-close:hover {
            color: var(--text-dark);
        }

        /* CPD Section */
        .cpd-container {
            max-width: 1100px;
            margin: 0 auto;
        }

        /* Compact A-Z pill bar with rounded ends */
        .cpd-az-bar {
            display: flex;
            justify-content: center;
            padding: 0.5rem 0;
            margin-bottom: 1.5rem;
            position: sticky;
            top: 131px;
            z-index: 99;
            background: transparent;
            transition: box-shadow 0.2s ease;
        }

        .cpd-az-bar-inner {
            display: inline-flex;
            align-items: center;
            gap: 0;
            background: var(--bg-light);
            border: 1px solid var(--border-light);
            border-radius: 999px;
            padding: 0.25rem 0.375rem;
        }

        /* When A-Z bar is stuck, hide the tabs' bottom border so they merge */
        .team-tabs.az-joined {
            border-bottom-color: transparent;
        }

        .cpd-az-bar.scrolled .cpd-az-bar-inner {
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
        }

        .cpd-az-letter {
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Manrope', sans-serif;
            font-size: 0.65rem;
            font-weight: 700;
            color: var(--text-light);
            cursor: pointer;
            border-radius: 50%;
            transition: all 0.2s ease;
            border: none;
            background: none;
            padding: 0;
            line-height: 1;
        }

        .cpd-az-letter:hover {
            color: var(--primary);
            background: rgba(184, 92, 56, 0.1);
        }

        .cpd-az-letter.active {
            color: white;
            background: var(--primary);
            box-shadow: 0 1px 4px rgba(184, 92, 56, 0.3);
        }

        .cpd-az-letter.disabled {
            color: var(--border-light);
            cursor: default;
            pointer-events: none;
            opacity: 0.5;
        }

        /* Letter Group */
        .cpd-letter-group {
            scroll-margin-top: 190px;
            margin-bottom: 2rem;
        }

        .cpd-letter-heading {
            font-family: 'Manrope', sans-serif;
            font-size: 1.125rem;
            font-weight: 800;
            color: var(--text-dark);
            padding-bottom: 0.5rem;
            margin-bottom: 0.875rem;
            border-bottom: 2px solid var(--primary);
            display: inline-block;
        }

        .cpd-letter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 0.875rem;
        }

        /* CPD Card */
        .cpd-card-link {
            text-decoration: none;
            color: inherit;
            display: block;
            cursor: pointer;
        }

        .cpd-card-link .cpd-card {
            background: var(--bg-white);
            border-radius: 12px;
            padding: 1.125rem 1.25rem;
            transition: all 0.3s var(--ease-out);
            box-shadow: var(--shadow-sm);
            height: 100%;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .cpd-card-link:hover .cpd-card {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        .cpd-card-link .cpd-card .cpd-name {
            font-family: 'Manrope', sans-serif;
            font-size: 0.9375rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 0.175rem;
            line-height: 1.3;
            transition: color 0.3s var(--ease-out);
        }

        .cpd-card-link:hover .cpd-card .cpd-name {
            color: var(--primary);
        }

        .cpd-card-link .cpd-card .cpd-circuit {
            font-size: 0.8125rem;
            color: var(--primary);
            font-weight: 500;
            margin-bottom: 0.25rem;
        }

        .cpd-card-link .cpd-card .cpd-counties {
            font-size: 0.6875rem;
            color: var(--text-light);
            line-height: 1.5;
            flex: 1;
        }

        .cpd-card-link .cpd-card .cpd-link-hint {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            margin-top: 0.625rem;
            padding-top: 0.625rem;
            border-top: 1px solid var(--border-light);
            font-size: 0.6875rem;
            font-weight: 600;
            color: var(--text-light);
            transition: all 0.3s var(--ease-out);
        }

        .cpd-card-link .cpd-card .cpd-link-hint svg {
            width: 12px;
            height: 12px;
            transition: transform 0.3s var(--ease-out);
        }

        .cpd-card-link:hover .cpd-card .cpd-link-hint {
            color: var(--primary);
        }

        .cpd-card-link:hover .cpd-card .cpd-link-hint svg {
            transform: translateX(3px);
        }

        /* Council Card — static, non-interactive */
        .council-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 1rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .council-card {
            background: var(--bg-white);
            padding: 1.5rem 1.25rem;
            border-radius: 10px;
            text-align: center;
            border: 1px solid var(--border-light);
            cursor: default;
            opacity: 0;
            transform: translateY(12px);
            animation: councilFadeIn 0.5s var(--ease-out) forwards;
        }

        .council-card h4 {
            font-size: 0.9375rem;
            color: var(--text-dark);
            margin-bottom: 0.375rem;
        }

        .council-card .council-role {
            font-size: 0.75rem;
            color: var(--text-medium);
            font-weight: 500;
        }

        .council-card .council-role.chairman {
            color: var(--primary);
            font-weight: 600;
        }

        @keyframes councilFadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Tablet — shrink A-Z letters before they overflow */
        @media (max-width: 960px) {
            .cpd-az-letter {
                width: 26px;
                height: 26px;
                font-size: 0.6rem;
            }
            .cpd-az-bar-inner {
                padding: 0.1875rem 0.25rem;
            }
        }

        /* Mobile */
        @media (max-width: 768px) {
            .cpd-letter-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.625rem;
            }
            .council-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .cpd-az-bar {
                padding: 0.5rem 0.75rem;
            }
            .cpd-az-bar-inner {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none;
                max-width: 100%;
                border-radius: 999px;
            }
            .cpd-az-bar-inner::-webkit-scrollbar {
                display: none;
            }
            .cpd-az-letter {
                min-width: 36px;
                width: 36px;
                height: 36px;
                flex-shrink: 0;
                font-size: 0.7rem;
            }
            .team-section-header {
                margin-bottom: 1.5rem;
            }
            .section-explainer {
                font-size: 0.875rem;
            }
        }

        /* Small mobile */
        @media (max-width: 480px) {
            .cpd-letter-grid {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }
            .council-grid {
                grid-template-columns: 1fr;
                max-width: 280px;
                margin: 0 auto;
            }
            .cpd-card-link .cpd-card {
                padding: 0.875rem 1rem;
            }
            .cpd-az-letter {
                min-width: 32px;
                width: 32px;
                height: 32px;
                font-size: 0.65rem;
            }
        }
    </style>
    <!-- Open Graph -->
    <meta property="og:title" content="Our Team | Georgia Public Defender Council">
    <meta property="og:description" content="Meet the leadership team and staff of the Georgia Public Defender Council.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://gapubdef.org/team.html">
    <meta property="og:image" content="https://cdn.prod.website-files.com/66c9595206b0d169d1677e69/66e9df4a3e925a89e1be2971_BlackGold%20-%20SYMBOL%20MARK.png">
    <meta property="og:site_name" content="Georgia Public Defender Council">
    <link rel="canonical" href="https://gapubdef.org/team.html">
    <noscript><style>.section-animate{opacity:1;transform:none}</style></noscript>
    <script src="js/transitions.js"></script>
</head>
<body>
    <div class="page-transition" id="pageTransition"></div>

    <!-- Header (loaded dynamically) -->
    <div id="site-header"></div>

    <!-- Hero Section (loaded from components.js) -->
    <section class="page-hero page-hero-sm" id="page-hero" data-hero="team"></section>

    <!-- Team Navigation Tabs -->
    <div class="team-tabs">
        <button class="filter-btn active" data-section="executives">Executives</button>
        <button class="filter-btn" data-section="directors">Directors and Managers</button>
        <button class="filter-btn" data-section="cpds">Circuit Public Defenders</button>
        <button class="filter-btn" data-section="council">Council Members</button>
    </div>

    <!-- Featured Executive Director (populated by JS from leadership.json) -->
    <section class="featured-executive section-animate" id="section-executives">
        <div class="featured-card fade-in" id="featuredExecutive">
            <!-- Populated dynamically from leadership.json -->
        </div>
    </section>

    <!-- Executive Team (populated by JS from leadership.json) -->
    <section class="team-section-new section-animate">
        <div class="container">
            <div class="team-section-header fade-in">
                <p class="label">LEADERSHIP TEAM</p>
                <h2>Executive Leadership</h2>
                <p class="section-explainer">Our executive team provides strategic direction and oversight for the Georgia Public Defender Council, ensuring effective administration of indigent defense services across the state.</p>
            </div>

            <div class="team-grid-new" id="executivesGrid">
                <!-- Populated dynamically from leadership.json -->
            </div>
        </div>
    </section>

    <!-- Division Directors Section (populated by JS from leadership.json) -->
    <section class="team-section-new team-section-alt section-animate" id="section-directors" style="display: none;">
        <div class="container">
            <div class="team-section-header fade-in">
                <p class="label">DIVISION LEADERSHIP</p>
                <h2>Directors and Managers</h2>
                <p class="section-explainer">Division Directors and Managers lead specialized units that provide critical support services, training, and expertise to public defenders across our 45 circuit offices statewide.</p>
            </div>

            <div class="team-grid-new" id="directorsGrid">
                <!-- Populated dynamically from leadership.json -->
            </div>
        </div>
    </section>

    <!-- Council Members Section -->
    <section class="team-section-new" id="section-council" style="display: none;">
        <div class="container">
            <div class="team-section-header fade-in">
                <p class="label">GOVERNING BODY</p>
                <h2>Council Members</h2>
                <p class="section-explainer">The Georgia Public Defender Council is the governing body responsible for policy oversight and ensuring the effective delivery of indigent defense services statewide. Members are appointed by the Governor, Lieutenant Governor, and Speaker of the House.</p>
            </div>

            <div class="council-grid fade-in" id="council-grid">
                <!-- Populated dynamically from council.json -->
            </div>
        </div>
    </section>

    <!-- Circuit Public Defenders Section -->
    <section class="team-section-new team-section-alt section-animate" id="section-cpds" style="display: none;">
        <div class="container">
            <div class="team-section-header fade-in">
                <p class="label">45 CIRCUIT OFFICES</p>
                <h2>Circuit Public Defenders</h2>
                <p class="section-explainer">Circuit Public Defenders lead local offices across 45 of Georgia's 49 judicial circuits. Four circuits operate independent public defender systems outside of GPDC. Each CPD manages a team of attorneys and staff providing direct legal representation to individuals who cannot afford an attorney.</p>
            </div>

        </div>

        <nav class="cpd-az-bar" id="cpd-az-bar">
            <!-- A-Z letters populated by JS -->
        </nav>

        <div class="container">
            <div class="cpd-container fade-in">
                <div id="cpd-content">
                    <!-- Letter groups populated by JS -->
                </div>
            </div>
        </div>
    </section>

    <!-- Phone Number Tooltip (for desktop) -->
    <div class="phone-tooltip-overlay" id="phoneOverlay" onclick="closePhoneTooltip()"></div>
    <div class="phone-tooltip" id="phoneTooltip">
        <p class="phone-tooltip-label">Central Office</p>
        <a href="tel:4047952440" class="phone-tooltip-number">(404) 795-2440</a>
        <button class="phone-tooltip-close" onclick="closePhoneTooltip()">Close</button>
    </div>

    <!-- Contact Modal -->
    <div class="contact-modal-overlay" id="contactModal">
        <div class="contact-modal" style="position: relative;">
            <button class="contact-modal-close" onclick="closeContactModal()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 6L6 18M6 6l12 12"/>
                </svg>
            </button>
            <div class="contact-modal-header">
                <img loading="lazy" src="" alt="" class="contact-modal-avatar" id="modalAvatar">
                <div class="contact-modal-info">
                    <h3 id="modalName"></h3>
                    <p id="modalTitle"></p>
                </div>
            </div>
            <form id="contactForm" onsubmit="submitContactForm(event)">
                <div>
                    <label for="contactName">Your Name</label>
                    <input type="text" id="contactName" name="name" required>
                </div>
                <div>
                    <label for="contactEmail">Your Email</label>
                    <input type="email" id="contactEmail" name="email" required>
                </div>
                <div>
                    <label for="contactMessage">Message</label>
                    <textarea id="contactMessage" name="message" required></textarea>
                </div>
                <div class="callback-checkbox-wrapper">
                    <label class="callback-checkbox-label">
                        <input type="checkbox" id="requestCallback" onchange="toggleCallbackFields()">
                        <span class="checkbox-custom"></span>
                        <span>Request a callback</span>
                    </label>
                </div>
                <div id="phoneFieldWrapper" style="display: none;">
                    <label for="contactPhone">Your Phone Number</label>
                    <input type="tel" id="contactPhone" name="phone" placeholder="(555) 555-5555">
                </div>
                <input type="hidden" id="contactRecipient" name="recipient">
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    <span id="submitBtnText">Send Message</span>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
                    </svg>
                </button>
            </form>
        </div>
    </div>

    <!-- Circuit Public Defenders CTA -->
    <section class="team-section-new team-section-alt section-animate" id="section-cta" style="display: none;">
        <div class="container">
            <div class="circuit-cta fade-in">
                <h3>Find Your Circuit Public Defender</h3>
                <p>Our Circuit Public Defenders lead offices across 45 of Georgia's 49 judicial circuits. Use our search tool to find your local office.</p>
                <a href="find-defender.html" class="btn">
                    <span>Find My Public Defender</span>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 12h14M12 5l7 7-7 7"/>
                    </svg>
                </a>
            </div>
        </div>
    </section>

    <!-- Footer (loaded dynamically) -->
    <div id="site-footer"></div>

    <script src="js/components.js?v=5"></script>
    <script src="js/main.js"></script>
    <script>
        // Fallback team member images (overridden by CMS data via window.teamImages)
        if (!window.teamImages) {
            window.teamImages = {
                'oalli': 'https://cdn.prod.website-files.com/66c9595306b0d169d1677ecc/69656b087d941f495fc4f0ca_Photo_OmotayoAlli%20Large.jpeg',
                'dberry': 'https://cdn.prod.website-files.com/66c9595306b0d169d1677ecc/67c67762d2fade434e262703_1Q8A9141-2.jpg',
                'nglaser': 'https://cdn.prod.website-files.com/66c9595306b0d169d1677ecc/67872c9ffbd0f9572847b9dd_1Q8A7858%20-%20Natalie%20Glaser.jpg',
                'toconnor': 'https://cdn.prod.website-files.com/66c9595306b0d169d1677ecc/67872b903965e2274281ccde_1Q8A7048%20-%20Thomas%20O%27Connor.jpg',
                'lonley': 'https://cdn.prod.website-files.com/66c9595306b0d169d1677ecc/67c677863ff4222b883eea29_1Q8A9150.jpg',
                'traiford': 'https://cdn.prod.website-files.com/66c9595306b0d169d1677ecc/67872b7a0e15d3bc250a0509_1Q8A7063%20-%20Terry%20Raiford.jpg',
                'tbertram': 'https://cdn.prod.website-files.com/66c9595306b0d169d1677ecc/696679f045b5c1a68607201e_general-img-landscape.png',
                'whewitt': 'https://cdn.prod.website-files.com/66c9595306b0d169d1677ecc/67c75b1cdea1b5003be86cb8_1Q8A7280%20-%20William%20Hewitt.jpg',
                'gmurray': 'https://cdn.prod.website-files.com/66c9595306b0d169d1677ecc/69667a90b3630f4474adc250_Murray%2C%20Gayle%20Large.jpeg',
                'aragas': 'https://cdn.prod.website-files.com/66c9595306b0d169d1677ecc/67872a58835e230b9f2298be_1Q8A7115%20-%20Arnold%20Ragas.jpg',
                'srhinehart': 'https://cdn.prod.website-files.com/66c9595306b0d169d1677ecc/67872bc9b945b1f3785e6031_1Q8A7099%20-%20Sabrina%20Rhinehart.jpg',
                'nstudelska': 'https://cdn.prod.website-files.com/66c9595306b0d169d1677ecc/696679f045b5c1a68607201e_general-img-landscape.png',
                'jwalker': 'https://cdn.prod.website-files.com/66c9595306b0d169d1677ecc/67872a9d712ff3d5dd58518c_1Q8A6820-2%20-%20Joy%20Walker.jpg',
                'cdelossantos': 'https://gapubdef.org/wp-content/uploads/Tia_Headshot24.jpg',
                'kholmes': 'https://gapubdef.org/wp-content/uploads/Kenya_Headshot24.jpg',
                'shoover': '/images/uploads/1Q8A9125 Large.jpeg'
            };
        }

        // Contact modal functions
        function openContactModal(name, title, personId) {
            const modal = document.getElementById('contactModal');
            const avatar = document.getElementById('modalAvatar');
            const modalName = document.getElementById('modalName');
            const modalTitle = document.getElementById('modalTitle');
            const contactRecipient = document.getElementById('contactRecipient');

            avatar.src = (window.teamImages && window.teamImages[personId]) || 'https://cdn.prod.website-files.com/66c9595306b0d169d1677ecc/696679f045b5c1a68607201e_general-img-landscape.png';
            avatar.alt = name;
            modalName.textContent = name;
            modalTitle.textContent = title;
            contactRecipient.value = personId;

            // Reset callback checkbox and phone field
            document.getElementById('requestCallback').checked = false;
            document.getElementById('phoneFieldWrapper').style.display = 'none';
            document.getElementById('contactPhone').required = false;

            modal.classList.add('visible');
            document.body.style.overflow = 'hidden';
        }

        function closeContactModal() {
            const modal = document.getElementById('contactModal');
            modal.classList.remove('visible');
            document.body.style.overflow = '';
            document.getElementById('contactForm').reset();
            document.getElementById('phoneFieldWrapper').style.display = 'none';
        }

        function toggleCallbackFields() {
            const checkbox = document.getElementById('requestCallback');
            const phoneWrapper = document.getElementById('phoneFieldWrapper');
            const phoneInput = document.getElementById('contactPhone');

            if (checkbox.checked) {
                phoneWrapper.style.display = 'block';
                phoneInput.required = true;
            } else {
                phoneWrapper.style.display = 'none';
                phoneInput.required = false;
                phoneInput.value = '';
            }
        }

        function submitContactForm(event) {
            event.preventDefault();

            const recipientName = document.getElementById('modalName').textContent;
            const recipientTitle = document.getElementById('modalTitle').textContent;
            const senderName = document.getElementById('contactName').value;
            const senderEmail = document.getElementById('contactEmail').value;
            const senderPhone = document.getElementById('contactPhone').value;
            const message = document.getElementById('contactMessage').value;
            const requestCallback = document.getElementById('requestCallback').checked;

            // Build subject line with executive name
            let subject = `Message for ${recipientName} - ${recipientTitle}`;
            let body;

            if (requestCallback && senderPhone) {
                subject = `Message for ${recipientName} - ${recipientTitle} [Callback Requested]`;
                body = `From: ${senderName}
Email: ${senderEmail}
Phone: ${senderPhone} (Callback Requested)

${message}`;
            } else {
                body = `From: ${senderName}
Email: ${senderEmail}

${message}`;
            }

            // Open mailto link
            const mailtoLink = `mailto:help@gapubdef.org?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            window.location.href = mailtoLink;

            closeContactModal();
        }

        // Close modal when clicking outside
        document.getElementById('contactModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeContactModal();
            }
        });

        // Close modal on escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeContactModal();
                closePhoneTooltip();
            }
        });

        // Phone click handler - calls on mobile, shows tooltip on desktop
        function handlePhoneClick() {
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
                          || window.innerWidth <= 768;

            if (isMobile) {
                window.location.href = 'tel:4047952440';
            } else {
                showPhoneTooltip();
            }
        }

        function showPhoneTooltip() {
            document.getElementById('phoneOverlay').classList.add('visible');
            document.getElementById('phoneTooltip').classList.add('visible');
        }

        function closePhoneTooltip() {
            document.getElementById('phoneOverlay').classList.remove('visible');
            document.getElementById('phoneTooltip').classList.remove('visible');
        }

        // Populate CPDs grid with A-Z grouping
        function populateCPDs() {
            if (typeof circuitData === 'undefined') return;
            const content = document.getElementById('cpd-content');
            const azBar = document.getElementById('cpd-az-bar');
            if (!content || !azBar) return;

            // Sort by last name
            const sorted = [...circuitData].sort((a, b) => {
                const aLast = a.defender.split(' ').slice(-1)[0].toUpperCase();
                const bLast = b.defender.split(' ').slice(-1)[0].toUpperCase();
                return aLast.localeCompare(bLast);
            });

            // Group by first letter of last name
            const groups = {};
            sorted.forEach(circuit => {
                const letter = circuit.defender.split(' ').slice(-1)[0][0].toUpperCase();
                if (!groups[letter]) groups[letter] = [];
                groups[letter].push(circuit);
            });

            // Build letter groups
            const usedLetters = Object.keys(groups).sort();
            content.innerHTML = usedLetters.map(letter => `
                <div class="cpd-letter-group" id="cpd-letter-${letter}">
                    <div class="cpd-letter-heading">${letter}</div>
                    <div class="cpd-letter-grid">
                        ${groups[letter].map(circuit => `
                            <a href="local-offices/${circuit.slug}.html" class="cpd-card-link">
                                <div class="cpd-card">
                                    <h3 class="cpd-name">${circuit.defender}</h3>
                                    <p class="cpd-circuit">${circuit.circuit}</p>
                                    <p class="cpd-counties">${circuit.counties.join(', ')}</p>
                                    <span class="cpd-link-hint">View Office <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg></span>
                                </div>
                            </a>
                        `).join('')}
                    </div>
                </div>
            `).join('');

            // Build A-Z bar with inner pill wrapper
            const allLetters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
            const buttonsHtml = allLetters.map(letter => {
                const hasEntries = usedLetters.includes(letter);
                return `<button class="cpd-az-letter${hasEntries ? '' : ' disabled'}" data-letter="${letter}" ${hasEntries ? `onclick="scrollToLetter('${letter}')"` : ''}>${letter}</button>`;
            }).join('');
            azBar.innerHTML = `<div class="cpd-az-bar-inner">${buttonsHtml}</div>`;

            // Intersection observer for active letter highlight
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const letter = entry.target.id.replace('cpd-letter-', '');
                        document.querySelectorAll('.cpd-az-letter').forEach(btn => {
                            btn.classList.toggle('active', btn.dataset.letter === letter);
                        });
                    }
                });
            }, { rootMargin: '-190px 0px -50% 0px', threshold: 0 });

            document.querySelectorAll('.cpd-letter-group').forEach(group => {
                observer.observe(group);
            });

            // Add shadow + merge tabs border when A-Z bar is stuck
            const tabsBar = document.querySelector('.team-tabs');
            const navEl = document.querySelector('.nav');
            const stickyTop = (navEl ? navEl.offsetHeight : 60) + (tabsBar ? tabsBar.offsetHeight : 0) + 2;
            const stickyObserver = new IntersectionObserver(([entry]) => {
                const isStuck = !entry.isIntersecting;
                azBar.classList.toggle('scrolled', isStuck);
                if (tabsBar) tabsBar.classList.toggle('az-joined', isStuck);
            }, { threshold: 0, rootMargin: '-' + stickyTop + 'px 0px 0px 0px' });
            const header = document.querySelector('#section-cpds .team-section-header');
            if (header) stickyObserver.observe(header);
        }

        function scrollToLetter(letter) {
            const el = document.getElementById('cpd-letter-' + letter);
            if (!el) return;
            const nav = document.querySelector('.nav');
            const tabs = document.querySelector('.team-tabs');
            const azBar = document.getElementById('cpd-az-bar');
            const offset = (nav ? nav.offsetHeight : 60) + (tabs ? tabs.offsetHeight : 0) + (azBar ? azBar.offsetHeight : 0) + 12;
            const top = el.getBoundingClientRect().top + window.pageYOffset - offset;
            window.scrollTo({ top: top, behavior: 'smooth' });
        }

        // Dynamically set A-Z bar top to sit below nav + tabs
        function updateAzBarTop() {
            const nav = document.querySelector('.nav');
            const tabs = document.querySelector('.team-tabs');
            const azBar = document.getElementById('cpd-az-bar');
            if (!azBar || !tabs) return;
            const navH = nav ? nav.offsetHeight : 60;
            const tabsH = tabs.offsetHeight;
            azBar.style.top = (navH + tabsH) + 'px';
        }
        window.addEventListener('resize', updateAzBarTop);
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(updateAzBarTop, 100);
        });

        // Initialize CPDs on page load
        document.addEventListener('DOMContentLoaded', populateCPDs);

        // Re-render CPDs when CMS circuit data overrides the hardcoded fallback
        window.addEventListener('circuitDataUpdated', populateCPDs);

        // Team tabs functionality
        document.querySelectorAll('.team-tabs .filter-btn').forEach(tab => {
            tab.addEventListener('click', function() {
                // Update active tab
                document.querySelectorAll('.team-tabs .filter-btn').forEach(t => t.classList.remove('active'));
                this.classList.add('active');

                const section = this.dataset.section;

                // Remove az-joined class when leaving CPDs tab
                const tabsEl = document.querySelector('.team-tabs');
                if (tabsEl) tabsEl.classList.remove('az-joined');

                // Show/hide sections based on selection
                const featuredSection = document.querySelector('.featured-executive');
                const executivesSection = document.querySelector('.team-section-new:not(.team-section-alt):not(#section-council)');
                const directorsSection = document.getElementById('section-directors');
                const councilSection = document.getElementById('section-council');
                const cpdsSection = document.getElementById('section-cpds');
                const ctaSection = document.getElementById('section-cta');

                // Hide all sections first
                featuredSection.style.display = 'none';
                executivesSection.style.display = 'none';
                directorsSection.style.display = 'none';
                councilSection.style.display = 'none';
                cpdsSection.style.display = 'none';
                ctaSection.style.display = 'none';

                // Show selected section
                if (section === 'executives') {
                    featuredSection.style.display = 'block';
                    executivesSection.style.display = 'block';
                    featuredSection.querySelectorAll('.fade-in').forEach(el => el.classList.add('visible'));
                    executivesSection.querySelectorAll('.fade-in').forEach(el => el.classList.add('visible'));
                } else if (section === 'directors') {
                    directorsSection.style.display = 'block';
                    directorsSection.querySelectorAll('.fade-in').forEach(el => el.classList.add('visible'));
                } else if (section === 'cpds') {
                    cpdsSection.style.display = 'block';
                    cpdsSection.querySelectorAll('.fade-in').forEach(el => el.classList.add('visible'));
                } else if (section === 'council') {
                    councilSection.style.display = 'block';
                    councilSection.querySelectorAll('.fade-in').forEach(el => el.classList.add('visible'));
                    // Re-trigger staggered entrance animation
                    document.querySelectorAll('.council-card').forEach(card => {
                        card.style.animation = 'none';
                        card.offsetHeight; // force reflow
                        card.style.animation = '';
                    });
                }
            });
        });
    </script>
</body>
</html>
